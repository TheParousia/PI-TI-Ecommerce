<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Produto</title>
</head>
<body>
    <h1>Cadastrar Produto</h1>
    <form id="produtoForm" enctype="multipart/form-data">
        <label for="modelo">Modelo:</label>
        <input type="text" id="modelo" name="modelo" required><br>

        <label for="descricao">Descrição:</label>
        <input type="text" id="descricao" name="descricao" required><br>

        <label for="capacidade1">Capacidade 1:</label>
        <input type="text" id="capacidade1" name="capacidade1"><br>

        <label for="capacidade2">Capacidade 2:</label>
        <input type="text" id="capacidade2" name="capacidade2"><br>

        <label for="capacidade3">Capacidade 3:</label>
        <input type="text" id="capacidade3" name="capacidade3"><br>

        <label for="qtd_estoque">Quantidade em Estoque:</label>
        <input type="number" id="qtd_estoque" name="qtd_estoque" min="0" required><br>

        <label for="preco">Preço:</label>
        <input type="number" id="preco" name="preco" step="0.01" required><br>

        <label for="cor">Cor:</label>
        <input type="text" id="cor" name="cor"><br>

        <label for="marca">Marca:</label>
        <input type="text" id="marca" name="marca"><br>

        <label for="imagens">Imagens do Produto:</label>
        <input type="file" id="imagens" name="imagens" accept="image/*" multiple required><br>

        <button type="submit">Cadastrar Produto</button>
    </form>

    <script>
        document.getElementById('produtoForm').onsubmit = async function (e) {
            e.preventDefault();
            const formData = new FormData(this);

            const response = await fetch('/api/produtos/', {
                method: 'POST',
                body: formData,
                headers: {
                    'X-CSRFToken': '{{ csrf_token }}'  // Certifique-se de passar o token CSRF
                }
            });

            if (response.ok) {
                alert('Produto cadastrado com sucesso!');
            } else {
                alert('Erro ao cadastrar produto.');
            }
        };
    </script>
</body>
</html>
